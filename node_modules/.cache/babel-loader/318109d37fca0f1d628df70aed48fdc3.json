{"ast":null,"code":"const store = {\n  state: {},\n  rootReducer: () => this.state,\n  subscribers: {},\n\n  subscribe(key, callback) {\n    if (typeof callback === 'function') {\n      this.subscribers[key] = callback;\n      this.subscribers[key](this.state);\n\n      const unsubscribe = () => delete this.subscribers[key];\n    }\n  },\n\n  dispatch(action) {\n    this.state = this.rootReducer(this.state, action);\n    Object.values(this.subscribers).forEach(callback => callback(this.state));\n  }\n\n};\nexport function createStore(rootReducer) {\n  store.rootReducer = rootReducer;\n  return store;\n}","map":{"version":3,"names":["store","state","rootReducer","subscribers","subscribe","key","callback","unsubscribe","dispatch","action","Object","values","forEach","createStore"],"sources":["/Users/Arina.Karmanova/Documents/react-2022-09-22/src/CustomStore/store.js"],"sourcesContent":["const store = {\n  state: {},\n\n  rootReducer: () => this.state,\n\n  subscribers: {},\n\n  subscribe(key, callback) {\n    if(typeof callback === 'function') {\n      this.subscribers[key] = callback;\n      this.subscribers[key](this.state);\n\n      const unsubscribe = () => delete this.subscribers[key];\n      \n    }\n  },\n\n  dispatch(action) {\n    this.state = this.rootReducer(this.state, action);\n\n    Object.values(this.subscribers).forEach((callback)=> callback(this.state));\n  }\n\n};\n\nexport function createStore(rootReducer) {\n  store.rootReducer = rootReducer;\n\n  return store;\n}"],"mappings":"AAAA,MAAMA,KAAK,GAAG;EACZC,KAAK,EAAE,EADK;EAGZC,WAAW,EAAE,MAAM,KAAKD,KAHZ;EAKZE,WAAW,EAAE,EALD;;EAOZC,SAAS,CAACC,GAAD,EAAMC,QAAN,EAAgB;IACvB,IAAG,OAAOA,QAAP,KAAoB,UAAvB,EAAmC;MACjC,KAAKH,WAAL,CAAiBE,GAAjB,IAAwBC,QAAxB;MACA,KAAKH,WAAL,CAAiBE,GAAjB,EAAsB,KAAKJ,KAA3B;;MAEA,MAAMM,WAAW,GAAG,MAAM,OAAO,KAAKJ,WAAL,CAAiBE,GAAjB,CAAjC;IAED;EACF,CAfW;;EAiBZG,QAAQ,CAACC,MAAD,EAAS;IACf,KAAKR,KAAL,GAAa,KAAKC,WAAL,CAAiB,KAAKD,KAAtB,EAA6BQ,MAA7B,CAAb;IAEAC,MAAM,CAACC,MAAP,CAAc,KAAKR,WAAnB,EAAgCS,OAAhC,CAAyCN,QAAD,IAAaA,QAAQ,CAAC,KAAKL,KAAN,CAA7D;EACD;;AArBW,CAAd;AAyBA,OAAO,SAASY,WAAT,CAAqBX,WAArB,EAAkC;EACvCF,KAAK,CAACE,WAAN,GAAoBA,WAApB;EAEA,OAAOF,KAAP;AACD"},"metadata":{},"sourceType":"module"}